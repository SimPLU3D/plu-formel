<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimal-ui">
  <title>index.md</title>

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/2.10.0/github-markdown.min.css">
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/github.min.css">
  <style>
    html, body {
      width: 95%;
      margin: auto;
      padding-bottom: 50px;
    }
  </style>
</head>

<body>
  <article class="markdown-body">
    <h1 id="registre-de-r-gles-simplu3d"><a href="#registre-de-r-gles-simplu3d" class="anchor"></a>Registre de règles SimPLU3D</h1><h2 id="description"><a href="#description" class="anchor"></a>Description</h2><p>L&#39;approche de formalisation des PLU présentée ici a été expérimentée dans le cadre du projet SimPLU3D. Elle résulte des constats suivant :</p>
<ul>
<li>De nombreuses informations concernant les restrictions de construction sont prisonnière des PDF (hauteur maximale, recul par rapport à la voirie, etc.)</li>
<li>Les variantes de rédaction et la complexité des rédactions rendent l&#39;extraction automatique difficile à partir des textes</li>
</ul>
<p>Elle postule que <strong>pour pouvoir vérifier automatiquement les règles d&#39;urbanisme, il faut formaliser le contenu du règlement</strong>. Qu&#39;importe le format, pour chaque parcelle, il faut connaître le CES maximum, la hauteur maximale de construction, etc.</p>
<h2 id="mise-en-garde"><a href="#mise-en-garde" class="anchor"></a>Mise en garde</h2><p>Formaliser entièrement les documents d&#39;urbanisme est une problématique complexe :</p>
<ul>
<li>Le contexte cartographique est complexe (références aux routes, etc.)</li>
<li>La conditionnelle est complexe (les règles dépendent du type de construction, etc.)</li>
</ul>
<p><strong>On se concentrera d&#39;abord sur la formalisation de règles &quot;primitives&quot; et on traîtera plus tard la composition des règles</strong>.</p>
<p>En outre, des travaux sont en cours pour affiner la modélisation de ce registre de règle avec l&#39;équipe SmartPLU. Ces travaux portent en particulier sur :</p>
<ul>
<li>L&#39;utilisation du format XML pour la modélisation des règles d&#39;urbanisme (production des schémas XSD associés)</li>
<li>La gestion du lien entre les règles dans un tel format et les documents d&#39;urbanisme présents sur le GpU</li>
</ul>
<h2 id="concepts"><a href="#concepts" class="anchor"></a>Concepts</h2><h3 id="r-gle-d-39-urbanisme"><a href="#r-gle-d-39-urbanisme" class="anchor"></a>Règle d&#39;urbanisme</h3><p>Une règle sur une zone d&#39;urbanisme est définie à l&#39;aide des propriétés suivantes :</p>
<table>
<thead>
<tr>
<th>Propriété</th>
<th>Type</th>
<th>Description</th>
<th>Exemple</th>
</tr>
</thead>
<tbody><tr>
<td><code>id</code></td>
<td><code>URL</code></td>
<td>URI identifiant la règle d&#39;urbanisme</td>
<td><a href="https://mborne.github.io/plu-formel/registry/IAUIDF-001" target="_blank">https://mborne.github.io/plu-formel/registry/IAUIDF-001</a></td>
</tr>
<tr>
<td><code>title</code></td>
<td><code>string</code></td>
<td>Nom de la règle pour présentation</td>
<td>&quot;Distance minimale à la voirie&quot;</td>
</tr>
<tr>
<td><code>template</code></td>
<td><code>string</code></td>
<td>Règle sous forme de phrase avec des paramètres</td>
<td><code>Les bâtiments ne doivent pas être construits à une distance inférieure à {{ B1_ART_6 }} de la voirie.</code></td>
</tr>
<tr>
<td><code>params</code></td>
<td><code>RuleParams</code></td>
<td>Valeurs nommées définissants les paramètres de la règle d&#39;urbanisme</td>
<td><code>B1_ART_6 de type numérique</code></td>
</tr>
</tbody></table>
<p>Remarque : L&#39;URI définissant la règle doit être déréférençable et donner des précisions sur l&#39;interprétation de la règle d&#39;urbanisme.</p>
<h3 id="registre-de-r-gles"><a href="#registre-de-r-gles" class="anchor"></a>Registre de règles</h3><p>Un registre de règles représente un ensemble de règles.</p>
<h3 id="r-gles-pour-la-n-cogiation-de-contenu"><a href="#r-gles-pour-la-n-cogiation-de-contenu" class="anchor"></a>Règles pour la nécogiation de contenu</h3><ul>
<li>L&#39;URI identifiant la règle doit être sans extension et produire une page HTML</li>
<li>L&#39;ajout d&#39;un suffixe <code>.xsd</code> à un identifiant de règle doit fournir le schéma XSD décrivant entre autres les paramètres</li>
<li>L&#39;ajout d&#39;un suffixe <code>.json</code> doit fournir le schéma JSON pour l&#39;instanciation de la règle</li>
</ul>
<p>Exemple :</p>
<ul>
<li><a href="https://mborne.github.io/plu-formel/registry/IAUIDF-001" target="_blank">https://mborne.github.io/plu-formel/registry/IAUIDF-001</a></li>
<li><a href="https://mborne.github.io/plu-formel/registry/IAUIDF-001.xsd" target="_blank">https://mborne.github.io/plu-formel/registry/IAUIDF-001.xsd</a></li>
<li><a href="https://mborne.github.io/plu-formel/registry/IAUIDF-001.json" target="_blank">https://mborne.github.io/plu-formel/registry/IAUIDF-001.json</a></li>
</ul>
<h2 id="instanciation-des-r-gles-d-39-urbanisme"><a href="#instanciation-des-r-gles-d-39-urbanisme" class="anchor"></a>Instanciation des règles d&#39;urbanisme</h2><h3 id="principe"><a href="#principe" class="anchor"></a>Principe</h3><p>On propose dans un premier temps de fournir les informations suivantes pour définir les règles qui s&#39;appliquent aux zones d&#39;un document d&#39;urbanisme:</p>
<table>
<thead>
<tr>
<th>Nom</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>document_id</td>
<td><code>URL</code></td>
<td>URL identifiant le document d&#39;urbanisme (ex : <a href="https://www.geoportail-urbanisme.gouv.fr/document/by-id/69f0e42b13c577e63186146f9f1e65c5" target="_blank">https://www.geoportail-urbanisme.gouv.fr/document/by-id/69f0e42b13c577e63186146f9f1e65c5</a> )</td>
</tr>
<tr>
<td>document</td>
<td><code>string</code></td>
<td>Le nom du document (ex : <code>25392_PLU_20170602</code>)</td>
</tr>
<tr>
<td>zone</td>
<td>̀<code>string</code></td>
<td>Libelle de la zone d&#39;urbanisme (équivalent à ZONE_URBA.LIBELLE dans le standard CNIG, ex : <code>UAb</code>)</td>
</tr>
<tr>
<td>rule_id</td>
<td><code>URL</code></td>
<td>URL pointant sur la fiche descriptive de la règle (ex : <a href="https://mborne.github.io/plu-formel/registry/IAUIDF-001" target="_blank">https://mborne.github.io/plu-formel/registry/IAUIDF-001</a>)</td>
</tr>
<tr>
<td>citation</td>
<td><code>string</code></td>
<td>Extrait du texte du document d&#39;urbanisme fournissant définissant les paramètres (produit par SmartPLU)</td>
</tr>
<tr>
<td>params</td>
<td><code>RuleParams</code></td>
<td>Valeurs des paramètres de la règles</td>
</tr>
</tbody></table>
<h3 id="format-xml"><a href="#format-xml" class="anchor"></a>Format XML</h3><p><strong>POUR DISCUSSION AVEC NUMEN/SMARTPLU AVANT PRODUCTION XSD</strong></p>
<p>Il est proposé de :</p>
<ul>
<li>Travailler avec un fichier XML par document d&#39;urbanisme présent sur le GpU (ex : <code>69f0e42b13c577e63186146f9f1e65c5.xml</code>)</li>
<li>De remplir le fichier comme suit :</li>
</ul>
<pre><code class="language-xml">&lt;document id=&quot;https://www.geoportail-urbanisme.gouv.fr/document/by-id/69f0e42b13c577e63186146f9f1e65c5&quot; name=&quot;25392_PLU_20170602&quot;&gt;
    &lt;zones&gt;
        &lt;zone name=&quot;A&quot; /&gt;
        &lt;zone name=&quot;Aa&quot; /&gt;
        &lt;zone name=&quot;Au&quot; /&gt;
        &lt;zone name=&quot;N&quot; /&gt;
        &lt;zone name=&quot;U&quot;&gt;
            &lt;rules&gt;
                &lt;!-- Les bâtiments ne doivent pas être construits à une distance inférieure à 6.0 mètres de la voirie. --&gt;
                &lt;rule id=&quot;https://mborne.github.io/plu-formel/registry/IAUIDF-001&quot;&gt;
                    &lt;params&gt;
                        &lt;B1_ART_6&gt;6.0&lt;/B1_ART_6&gt;
                    &lt;/params&gt;
                &lt;/rule&gt;
            &lt;/rules&gt;
        &lt;/zone&gt;
    &lt;/zones&gt;
&lt;/document&gt;</code></pre>
<h3 id="format-json"><a href="#format-json" class="anchor"></a>Format JSON</h3><p><strong>Pour produire en parallèle des schémas JSON équivalents</strong></p>
<pre><code class="language-json">{
    &quot;id&quot;: &quot;https://www.geoportail-urbanisme.gouv.fr/document/by-id/69f0e42b13c577e63186146f9f1e65c5&quot;,
    &quot;name&quot;: &quot;25392_PLU_20170602&quot;,
    &quot;zones&quot;: [
        {
            &quot;name&quot;:&quot;A&quot;,
            &quot;rules&quot;: [
                {
                    &quot;id&quot;:&quot;https://mborne.github.io/plu-formel/registry/IAUIDF-001&quot;,
                    &quot;params&quot;: {
                        &quot;B1_ART_6&quot;: 6.0
                    }
                }
            ]
        }
    ]
}</code></pre>
<h2 id="resources"><a href="#resources" class="anchor"></a>Resources</h2><ul>
<li><a href="poc.html">Preuves de concepts et démonstrateurs</a></li>
<li><a href="legacy-csv.html">Principe d&#39;instanciation des règles en CSV (ancien fonctionnement)</a></li>
<li><a href="projects.html">Relation possible entre ce registre de règle et d&#39;autres projets</a></li>
</ul>

  </article>

  <!-- hightlight.pack.js -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
</body>

</html>
